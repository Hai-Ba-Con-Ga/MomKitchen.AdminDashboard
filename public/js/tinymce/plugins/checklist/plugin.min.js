! function(l) {
    "use strict";
    var n, e, r, t, o, i, u, c, s, g = function(n) {
            return function() {
                return n
            }
        },
        a = g(!1),
        f = g(!0),
        d = a,
        m = f,
        v = function() {
            return h
        },
        h = (t = {
            fold: function(n, e) {
                return n()
            },
            is: d,
            isSome: d,
            isNone: m,
            getOr: r = function(n) {
                return n
            },
            getOrThunk: e = function(n) {
                return n()
            },
            getOrDie: function(n) {
                throw new Error(n || "error: getOrDie called on none.")
            },
            getOrNull: function() {
                return null
            },
            getOrUndefined: function() {},
            or: r,
            orThunk: e,
            map: v,
            ap: v,
            each: function() {},
            bind: v,
            flatten: v,
            exists: d,
            forall: m,
            filter: v,
            equals: n = function(n) {
                return n.isNone()
            },
            equals_: n,
            toArray: function() {
                return []
            },
            toString: g("none()")
        }, Object.freeze && Object.freeze(t), t),
        p = function(r) {
            var n = function() {
                    return r
                },
                e = function() {
                    return o
                },
                t = function(n) {
                    return n(r)
                },
                o = {
                    fold: function(n, e) {
                        return e(r)
                    },
                    is: function(n) {
                        return r === n
                    },
                    isSome: m,
                    isNone: d,
                    getOr: n,
                    getOrThunk: n,
                    getOrDie: n,
                    getOrNull: n,
                    getOrUndefined: n,
                    or: e,
                    orThunk: e,
                    map: function(n) {
                        return p(n(r))
                    },
                    ap: function(n) {
                        return n.fold(v, function(n) {
                            return p(n(r))
                        })
                    },
                    each: function(n) {
                        n(r)
                    },
                    bind: t,
                    flatten: n,
                    exists: t,
                    forall: t,
                    filter: function(n) {
                        return n(r) ? o : h
                    },
                    equals: function(n) {
                        return n.is(r)
                    },
                    equals_: function(n, e) {
                        return n.fold(d, function(n) {
                            return e(r, n)
                        })
                    },
                    toArray: function() {
                        return [r]
                    },
                    toString: function() {
                        return "some(" + r + ")"
                    }
                };
            return o
        },
        O = {
            some: p,
            none: v,
            from: function(n) {
                return null == n ? h : p(n)
            }
        },
        N = function(n) {
            if (null == n) throw new Error("Node cannot be null or undefined");
            return {
                dom: g(n)
            }
        },
        w = {
            fromHtml: function(n, e) {
                var r = (e || l.document).createElement("div");
                if (r.innerHTML = n, !r.hasChildNodes() || 1 < r.childNodes.length) throw l.console.error("HTML does not have a single root node", n), new Error("HTML must have a single root node");
                return N(r.childNodes[0])
            },
            fromTag: function(n, e) {
                var r = (e || l.document).createElement(n);
                return N(r)
            },
            fromText: function(n, e) {
                var r = (e || l.document).createTextNode(n);
                return N(r)
            },
            fromDom: N,
            fromPoint: function(n, e, r) {
                var t = n.dom();
                return O.from(t.elementFromPoint(e, r)).map(N)
            }
        },
        E = (l.Node.ATTRIBUTE_NODE, l.Node.CDATA_SECTION_NODE, l.Node.COMMENT_NODE, l.Node.DOCUMENT_NODE),
        x = (l.Node.DOCUMENT_TYPE_NODE, l.Node.DOCUMENT_FRAGMENT_NODE, l.Node.ELEMENT_NODE),
        T = (l.Node.TEXT_NODE, l.Node.PROCESSING_INSTRUCTION_NODE, l.Node.ENTITY_REFERENCE_NODE, l.Node.ENTITY_NODE, l.Node.NOTATION_NODE, function(n) {
            return n.dom().nodeName.toLowerCase()
        }),
        S = (o = E, function(n) {
            return n.dom().nodeType === o
        }),
        D = function(e) {
            return function(n) {
                return function(n) {
                    if (null === n) return "null";
                    var e = typeof n;
                    return "object" === e && Array.prototype.isPrototypeOf(n) ? "array" : "object" === e && String.prototype.isPrototypeOf(n) ? "string" : e
                }(n) === e
            }
        },
        b = D("string"),
        k = D("boolean"),
        y = D("function"),
        L = D("number"),
        A = void 0 === (i = Array.prototype.indexOf) ? function(n, e) {
            return j(n, e)
        } : function(n, e) {
            return i.call(n, e)
        },
        C = function(n, e) {
            return -1 < A(n, e)
        },
        R = function(n, e) {
            for (var r = n.length, t = new Array(r), o = 0; o < r; o++) {
                var i = n[o];
                t[o] = e(i, o, n)
            }
            return t
        },
        _ = function(n, e) {
            for (var r = 0, t = n.length; r < t; r++) e(n[r], r, n)
        },
        j = function(n, e) {
            for (var r = 0, t = n.length; r < t; ++r)
                if (n[r] === e) return r;
            return -1
        },
        I = (Array.prototype.slice, y(Array.from) && Array.from, Object.keys),
        M = Object.hasOwnProperty,
        P = function(n, e) {
            return M.call(n, e)
        },
        F = function(n, e, r) {
            if (!(b(r) || k(r) || L(r))) throw l.console.error("Invalid call to Attr.set. Key ", e, " :: Value ", r, " :: Element ", n), new Error(" Attribute value was not simple");
            n.setAttribute(e, r + "")
        },
        U = function(n, e, r) {
            F(n.dom(), e, r)
        },
        B = function(n, e) {
            var r = n.dom();
            ! function(n, e) {
                for (var r = I(n), t = 0, o = r.length; t < o; t++) {
                    var i = r[t];
                    e(n[i], i, n)
                }
            }(e, function(n, e) {
                F(r, e, n)
            })
        },
        X = function(n, e) {
            n.dom().removeAttribute(e)
        },
        q = function(n) {
            return e = n.dom().attributes, r = function(n, e) {
                return n[e.name] = e.value, n
            }, t = {}, _(e, function(n) {
                t = r(t, n)
            }), t;
            var e, r, t
        },
        W = function(n, e) {
            var r, t, o = (r = e, null === (t = n.dom().getAttribute(r)) ? void 0 : t);
            return void 0 === o || "" === o ? [] : o.split(" ")
        },
        V = function(n) {
            return void 0 !== n.dom().classList
        },
        H = function(n) {
            return W(n, " class")
        },
        Y = function(n, e) {
            return o = e, i = W(r = n, t = "class").concat([o]), U(r, t, i.join(" ")), !0;
            var r, t, o, i
        },
        z = function(n, e) {
            return o = e, 0 < (i = function(n, e) {
                for (var r = [], t = 0, o = n.length; t < o; t++) {
                    var i = n[t];
                    e(i, t, n) && r.push(i)
                }
                return r
            }(W(r = n, t = " class"), function(n) {
                return n !== o
            })).length ? U(r, t, i.join(" ")) : X(r, t), !1;
            var r, t, o, i
        },
        G = function(n, e) {
            V(n) ? n.dom().classList.add(e) : Y(n, e)
        },
        $ = function(n, e) {
            var r;
            V(n) ? n.dom().classList.remove(e) : z(n, e), 0 === (V(r = n) ? r.dom().classList : H(r)).length && X(r, " class")
        },
        K = function(n, e) {
            var returnValue  = V(n) ? n.dom().classList.toggle(e) : (t = e, C(H(r = n), t) ? z(r, t) : Y(r, t));
            var r, t;
            return returnValue;
            
        },
        J = function(n, e) {
            return V(n) && n.dom().classList.contains(e)
        },
        Q = ("undefined" != typeof window ? window : Function("return this;")(), function() {
            return Z(0, 0)
        }),
        Z = function(n, e) {
            return {
                major: n,
                minor: e
            }
        },
        nn = {
            nu: Z,
            detect: function(n, e) {
                var r = String(e).toLowerCase();
                return 0 === n.length ? Q() : function(n, e) {
                    var r = function(n, e) {
                        for (var r = 0; r < n.length; r++) {
                            var t = n[r];
                            if (t.test(e)) return t
                        }
                    }(n, e);
                    if (!r) return {
                        major: 0,
                        minor: 0
                    };
                    var t = function(n) {
                        return Number(e.replace(r, "$" + n))
                    };
                    return Z(t(1), t(2))
                }(n, r)
            },
            unknown: Q
        },
        en = "Firefox",
        rn = function(n, e) {
            return function() {
                return e === n
            }
        },
        tn = function(n) {
            var e = n.current;
            return {
                current: e,
                version: n.version,
                isEdge: rn("Edge", e),
                isChrome: rn("Chrome", e),
                isIE: rn("IE", e),
                isOpera: rn("Opera", e),
                isFirefox: rn(en, e),
                isSafari: rn("Safari", e)
            }
        },
        on = {
            unknown: function() {
                return tn({
                    current: void 0,
                    version: nn.unknown()
                })
            },
            nu: tn,
            edge: g("Edge"),
            chrome: g("Chrome"),
            ie: g("IE"),
            opera: g("Opera"),
            firefox: g(en),
            safari: g("Safari")
        },
        un = "Windows",
        cn = "Android",
        sn = "Solaris",
        an = "FreeBSD",
        fn = function(n, e) {
            return function() {
                return e === n
            }
        },
        ln = function(n) {
            var e = n.current;
            return {
                current: e,
                version: n.version,
                isWindows: fn(un, e),
                isiOS: fn("iOS", e),
                isAndroid: fn(cn, e),
                isOSX: fn("OSX", e),
                isLinux: fn("Linux", e),
                isSolaris: fn(sn, e),
                isFreeBSD: fn(an, e)
            }
        },
        dn = {
            unknown: function() {
                return ln({
                    current: void 0,
                    version: nn.unknown()
                })
            },
            nu: ln,
            windows: g(un),
            ios: g("iOS"),
            android: g(cn),
            linux: g("Linux"),
            osx: g("OSX"),
            solaris: g(sn),
            freebsd: g(an)
        },
        mn = function(n, e) {
            var r = String(e).toLowerCase();
            return function(n, e) {
                for (var r = 0, t = n.length; r < t; r++) {
                    var o = n[r];
                    if (e(o, r, n)) return O.some(o)
                }
                return O.none()
            }(n, function(n) {
                return n.search(r)
            })
        },
        vn = function(n, r) {
            return mn(n, r).map(function(n) {
                var e = nn.detect(n.versionRegexes, r);
                return {
                    current: n.name,
                    version: e
                }
            })
        },
        hn = function(n, r) {
            return mn(n, r).map(function(n) {
                var e = nn.detect(n.versionRegexes, r);
                return {
                    current: n.name,
                    version: e
                }
            })
        },
        gn = function(n, e) {
            return -1 !== n.indexOf(e)
        },
        pn = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/,
        On = function(e) {
            return function(n) {
                return gn(n, e)
            }
        },
        Nn = [{
            name: "Edge",
            versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
            search: function(n) {
                return gn(n, "edge/") && gn(n, "chrome") && gn(n, "safari") && gn(n, "applewebkit")
            }
        }, {
            name: "Chrome",
            versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, pn],
            search: function(n) {
                return gn(n, "chrome") && !gn(n, "chromeframe")
            }
        }, {
            name: "IE",
            versionRegexes: [/.*?msie\ ?([0-9]+)\.([0-9]+).*/, /.*?rv:([0-9]+)\.([0-9]+).*/],
            search: function(n) {
                return gn(n, "msie") || gn(n, "trident")
            }
        }, {
            name: "Opera",
            versionRegexes: [pn, /.*?opera\/([0-9]+)\.([0-9]+).*/],
            search: On("opera")
        }, {
            name: "Firefox",
            versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
            search: On("firefox")
        }, {
            name: "Safari",
            versionRegexes: [pn, /.*?cpu os ([0-9]+)_([0-9]+).*/],
            search: function(n) {
                return (gn(n, "safari") || gn(n, "mobile/")) && gn(n, "applewebkit")
            }
        }],
        wn = [{
            name: "Windows",
            search: On("win"),
            versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]
        }, {
            name: "iOS",
            search: function(n) {
                return gn(n, "iphone") || gn(n, "ipad")
            },
            versionRegexes: [/.*?version\/\ ?([0-9]+)\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/]
        }, {
            name: "Android",
            search: On("android"),
            versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/]
        }, {
            name: "OSX",
            search: On("os x"),
            versionRegexes: [/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]
        }, {
            name: "Linux",
            search: On("linux"),
            versionRegexes: []
        }, {
            name: "Solaris",
            search: On("sunos"),
            versionRegexes: []
        }, {
            name: "FreeBSD",
            search: On("freebsd"),
            versionRegexes: []
        }],
        En = {
            browsers: g(Nn),
            oses: g(wn)
        },
        xn = function(n) {
            var e, r, t, o, i, u, c, s, a, f, l, d = En.browsers(),
                m = En.oses(),
                v = vn(d, n).fold(on.unknown, on.nu),
                h = hn(m, n).fold(dn.unknown, dn.nu);
            return {
                browser: v,
                os: h,
                deviceType: (r = v, t = n, o = (e = h).isiOS() && !0 === /ipad/i.test(t), i = e.isiOS() && !o, u = e.isAndroid() && 3 === e.version.major, c = e.isAndroid() && 4 === e.version.major, s = o || u || c && !0 === /mobile/i.test(t), a = e.isiOS() || e.isAndroid(), f = a && !s, l = r.isSafari() && e.isiOS() && !1 === /safari/i.test(t), {
                    isiPad: g(o),
                    isiPhone: g(i),
                    isTablet: g(s),
                    isPhone: g(f),
                    isTouch: g(a),
                    isAndroid: e.isAndroid,
                    isiOS: e.isiOS,
                    isWebView: g(l)
                })
            }
        },
        Tn = (s = !(u = function() {
            var n = l.navigator.userAgent;
            return xn(n)
        }), function() {
            for (var n = [], e = 0; e < arguments.length; e++) n[e] = arguments[e];
            return s || (s = !0, c = u.apply(null, n)), c
        }),
        Sn = x,
        Dn = E,
        bn = function(n, e) {
            var r, t = void 0 === e ? l.document : e.dom();
            return (r = t).nodeType !== Sn && r.nodeType !== Dn || 0 === r.childElementCount ? [] : R(t.querySelectorAll(n), w.fromDom)
        },
        kn = function(n, e) {
            return n.dom() === e.dom()
        },
        yn = (Tn().browser.isIE(), function(n, e, r) {
            for (var t = n.dom(), o = y(r) ? r : g(!1); t.parentNode;) {
                t = t.parentNode;
                var i = w.fromDom(t);
                if (e(i)) return O.some(i);
                if (o(i)) break
            }
            return O.none()
        }),
        Ln = function(n, e, r) {
            var t, o, i, u, c;
            return t = yn, u = r, c = o = n, (i = e)(c) ? O.some(o) : y(u) && u(o) ? O.none() : t(o, i, u)
        },
        An = function(n) {
            var e = n.dom();
            return O.from(e.parentNode).map(w.fromDom)
        },
        Cn = function(n) {
            var e = n.dom();
            return R(e.childNodes, w.fromDom)
        },
        Rn = function(n) {
            return e = 0, r = n.dom().childNodes, O.from(r[e]).map(w.fromDom);
            var e, r
        },
        _n = (function() {
            for (var n = [], e = 0; e < arguments.length; e++) n[e] = arguments[e]
        }("element", "offset"), function(r, t) {
            return {
                left: g(r),
                top: g(t),
                translate: function(n, e) {
                    return _n(r + n, t + e)
                }
            }
        }),
        jn = _n,
        In = function(n, e) {
            return void 0 !== n ? n : void 0 !== e ? e : 0
        },
        Mn = function(n) {
            var e, r, t = n.dom().ownerDocument,
                o = t.body,
                i = (e = w.fromDom(t), (r = e.dom()) === r.window && e instanceof l.Window ? e : S(e) ? r.defaultView || r.parentWindow : null),
                u = t.documentElement,
                c = In(i.pageYOffset, u.scrollTop),
                s = In(i.pageXOffset, u.scrollLeft),
                a = In(u.clientTop, o.clientTop),
                f = In(u.clientLeft, o.clientLeft);
            return Pn(n).translate(s - f, c - a)
        },
        Pn = function(n) {
            var e, r, t, o = n.dom(),
                i = o.ownerDocument,
                u = i.body,
                c = w.fromDom(i.documentElement);
            return u === o ? jn(u.offsetLeft, u.offsetTop) : (e = n, r = c || w.fromDom(l.document.documentElement), yn(e, function(t) {
                for (var o = [], n = 1; n < arguments.length; n++) o[n - 1] = arguments[n];
                return function() {
                    for (var n = [], e = 0; e < arguments.length; e++) n[e] = arguments[e];
                    var r = o.concat(n);
                    return t.apply(null, r)
                }
            }(kn, r)).isSome() ? (t = o.getBoundingClientRect(), jn(t.left, t.top)) : jn(0, 0))
        },
        Fn = function(n) {
            var xx = "li" === T(n) ;
            var yy = An(n).filter(function(n) {
                var x = "ul" === T(n);
                var y = J(n, "tox-checklist");
                return x && y;
            }).isSome();
            return xx && yy;
        },
        Un = function(n) {
            return K(n, "tox-checklist--checked")
        },
        Bn = function(o) {
            o.on("mousedown", function(n) {
                
                var e, r, t = w.fromDom(n.target);
                e = t, r = n.clientX, O.from(e).filter(Fn).exists(function(n) {
                    // @ThienPhuc start config checklist apply Align  
                        // Use for default or align left & justify.
                    if(t.dom().style.textAlign == "" || t.dom().style.textAlign == "left" || t.dom().style.textAlign == "justify"){
                        return r < Mn(n).left();
                    }
                        // Use for align center & right.
                    var onclickTarget = event.target;
                    var iconSize = 16; // Get from default style css ; 
                    var marginLeft = 24; // Get from default style css ; 
                    // Create parent element to get width text inside LI
                    if(onclickTarget.children.length == 0 || onclickTarget.children.length > 1){
                        t.dom().innerHTML = '<span>' + t.dom().innerHTML + '</span>';
                    }
                    // Get current position of child.
                    var startPoint = t.dom().children[0].getBoundingClientRect().x ? t.dom().children[0].getBoundingClientRect().x : 0; 
                    var exactlyPosition = startPoint - marginLeft;
                    // r : mouse click position ( x- axis )
                    // return true ( allow to toggle check) --> when click in checkbox
                    return  exactlyPosition ? r > exactlyPosition && r < (exactlyPosition + iconSize ) : false;
                    // @ThienPhuc edit end

                }) && o.undoManager.transact(function() {
                    n.preventDefault(), Un(t)
                })
            })
        },
        Xn = function(n) {
            return C(["ul", "ol", "dl"], T(n))
        },
        qn = function(n) {
            return O.from(n).filter(function(n) {
                return J(n, "tox-checklist")
            }).bind(Rn).map(function(n) {
                "li" === T(n) && Rn(n).exists(function(n) {
                    return "ul" === T(n)
                }) && G(n, "tox-checklist--hidden")
            }), n
        },
        Wn = function(n) {
            n.on("ListMutation", function(n) {
                var e = O.from(n.element).map(w.fromDom);
                "IndentList" === n.action || "OutdentList" === n.action ? e.map(qn).map(function(n) {
                    return _(bn("ul", n), function(n) {
                        return qn(n)
                    })
                }) : "ToggleUlList" !== n.action && "ToggleOlList" !== n.action && "ToggleDLList" !== n.action || e.filter(Xn).map(function(n) {
                    $(n, "tox-checklist"), _(Cn(n), function(n) {
                        return $(n, "tox-checklist--checked")
                    })
                })
            })
        },
        Vn = function(n) {
            return parseInt(n, 10)
        },
        Hn = function(n, e, r) {
            return {
                major: n,
                minor: e,
                patch: r
            }
        },
        Yn = function(n) {
            var e = /([0-9]+)\.([0-9]+)\.([0-9]+)(?:(\-.+)?)/.exec(n);
            return e ? Hn(Vn(e[1]), Vn(e[2]), Vn(e[3])) : Hn(0, 0, 0)
        },
        zn = function(n, e) {
            var r = n - e;
            return 0 === r ? 0 : 0 < r ? 1 : -1
        },
        Gn = function(n, e) {
            return -1 === function(n, e) {
                var r = zn(n.major, e.major);
                if (0 !== r) return r;
                var t = zn(n.minor, e.minor);
                if (0 !== t) return t;
                var o = zn(n.patch, e.patch);
                return 0 !== o ? o : 0
            }((r = n) ? Yn([(t = r).majorVersion, t.minorVersion].join(".").split(".").slice(0, 3).join(".")) : null, Yn(e));
            var r, t
        };
    return tinymce.PluginManager.add("checklist", function(r) {
            if (Gn(tinymce, "5.0.0")) return console.error("The pageembed plugin requires at least 5.0.0 of TinyMCE"), {};
            var t, e;
            r.on("init", function() {
                var n, e;
                (n = r.plugins, e = "lists", P(n, e) ? O.some(n[e]) : O.none()).isNone() && r.windowManager.alert("Please use the Checklist Plugin together with the Lists plugin.")
            }), Wn(r), (t = r).ui.registry.addToggleButton("checklist", {
                icon: "checklist",
                tooltip: "Insert Checklist",
                onAction: function() {
                    var n = t.selection.getNode();
                    Ln(w.fromDom(n), function(n) {
                        return "ul" === T(n) || "ol" === T(n)
                    }).fold(function() {
                        t.execCommand("InsertUnorderedList", !1, {
                            "list-attributes": {
                                class: "tox-checklist"
                            }
                        })
                    }, function(e) {
                        t.undoManager.transact(function() {
                            if (J(e, "tox-checklist")) t.execCommand("RemoveList");
                            else {
                                var n = (function() {
                                    for (var n = [], e = 0; e < arguments.length; e++) n[e] = arguments[e]
                                }("element", "offset"), function(n, e) {
                                    var r, t, o, i, u, c, s = (r = n, t = e, o = w.fromTag(t), i = q(r), B(o, i), o);
                                    c = s, An(u = n).each(function(n) {
                                        n.dom().insertBefore(c.dom(), u.dom())
                                    });
                                    var a, f, l = Cn(n);
                                    return a = s, _(l, function(n) {
                                        var e;
                                        e = n, a.dom().appendChild(e.dom())
                                    }), null !== (f = n.dom()).parentNode && f.parentNode.removeChild(f), s
                                }(e, "ul"));
                                G(n, "tox-checklist")
                            }
                        })
                    })
                },
                onSetup: function(e) {
                    var n = function(n) {
                        return e.setActive(!t.readonly && n.element.parentNode.classList.contains("tox-checklist"))
                    };
                    return t.on("nodechange", n),
                        function() {
                            return t.off("nodechange", n)
                        }
                }
            }), (e = r).shortcuts.add("meta+13", "Check checklist item", function() {
                var n = e.selection.getSelectedBlocks();
                _(n, function(n) {
                    var e = w.fromDom(n);
                    Fn(e) && Un(e)
                })
            }), Bn(r)
        }),
        function() {}
}(window)();